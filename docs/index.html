<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>BOT DASHBOARD PRO</title>

<style>
html{
  scroll-behavior:smooth;
}

*{margin:0;padding:0;box-sizing:border-box;}

body{
font-family:system-ui;
background:linear-gradient(135deg,#eef2ff,#f1f5f9);
color: #334155;
display:flex;
min-height:100vh;
overflow-x:hidden;
}



/* ================= SIDEBAR ================= */

.sidebar{
width:230px;
background: #0f172a;
color: #2563eb;
border-right: none;
box-shadow: 4px 0 15px rgba(0,0,0,0.05);
}

.logo{
font-size:22px;
font-weight:bold;
margin-bottom:40px;
background: linear-gradient(90deg, #2563eb, #3b82f6); /* Biru cerah */
-webkit-background-clip: text;
}

.menu div{
padding:12px;
border-radius:10px;
cursor:pointer;
margin-bottom:10px;
transition:.3s;
}

.menu div.active{
  background:#1e293b;
  color:white;
}

.menu div:hover{
background: #1e293b;
color: #2563eb;
}

/* ================= MAIN ================= */

.main{
flex:1;
padding:25px;
}

/* ================= STATS ================= */

.stats{
display:flex;
gap:15px;
margin-bottom:25px;
flex-wrap:wrap;
}

.stat{
  background:#ffffff;
  border:1px solid #cbd5e1;
  border-radius:14px;
  box-shadow:0 4px 10px rgba(0,0,0,0.05);
  padding:20px;
  transition:.3s;
}

.stat:nth-child(1){
  border-top:4px solid #3b82f6;
}

.stat:nth-child(2){
  border-top:4px solid #10b981;
}

.stat:nth-child(3){
  border-top:4px solid #f59e0b;
}
  
.stat h3{opacity:.7;font-size:14px;}
.stat span{font-size:26px;font-weight:bold;}

/* ================= FILTER ================= */

.filters{
display:flex;
gap:12px;
margin-bottom:20px;
flex-wrap:wrap;
}

select,input{
background:#141414;
border:none;
color:white;
padding:10px;
border-radius:8px;
}

/* ================= CARD ================= */

/* ================= CARD ANIMATION ================= */

.card{
  display:flex;
  align-items:flex-start;  /* penting */
  gap:20px;
  padding:18px;
  border-radius:16px;
  margin-bottom:18px;
  background:#ffffff;
  border:1px solid #e2e8f0;
  box-shadow:0 4px 10px rgba(0,0,0,0.05);
}

@keyframes cardReveal{
  to{
    opacity:1;
    transform:translateY(0) scale(1);
  }
}


.card:hover{
  transform:translateY(-5px) scale(1.01);
  box-shadow:
     0 0 0 1px rgba(255,255,255,.05),
     0 10px 35px rgba(0,0,0,.7),
     0 0 25px rgba(0,255,213,.15);
}

  .left{
  display:flex;
  flex-direction:column;
  width:80px;
  }

.group-img{
  
  width:60px;
  height:60px;
  border-radius:12px;
  object-fit:cover;
  margin-bottom:10px; /* jarak ke caption */
  opacity:0;
  transform:scale(.8);
  animation:imgIn .6s ease forwards;
}

@keyframes imgIn{
  to{
    opacity:1;
    transform:scale(1);
  }
}

.right{
  flex:1;
}

.group-name{
  font-size:18px;     /* lebih besar */
  font-weight:600;
  color:#1e293b;
}

.caption{
  font-size:13px;
  color:#64748b;
  line-height:1.5;
  margin-top:5px;
}
.section-title{
margin:25px 0 12px;
font-size:20px;
}

.empty{opacity:.5;margin-top:20px;}

.search{
width:220px;
}

/* MOBILE */
@media(max-width:900px){
.sidebar{display:none;}
body{flex-direction:column;}
}

</style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar">
<div class="logo">ðŸ¤– BOT PRO</div>

<div class="menu">
<div id="menuResult" onclick="showPage('result')">ðŸ“Œ Hasil Posting</div>
<div id="menuSchedule" onclick="showPage('schedule')">ðŸ“… Schedule</div></div>
</div>


<!-- MAIN -->
<div class="main">

<!-- ===== STATS ===== -->
<div class="stats">
<div class="stat"><h3>Total Posting</h3><span id="totalPost">0</span></div>
<div class="stat"><h3>Total Group</h3><span id="totalGroup">0</span></div>
<div class="stat"><h3>Akun Aktif</h3><span id="totalAccount">0</span></div>
</div>


<!-- ================= HASIL ================= -->
<div id="resultPage">

<div class="section-title">ðŸ“Œ Hasil Posting</div>

<div class="filters">
<select id="accountFilter">
<option value="all">Semua Akun</option>
</select>
<input type="date" id="dateFilter">
</div>

<div id="list"></div>

</div>


<!-- ================= SCHEDULE ================= -->
<div id="schedulePage" style="display:none">

<div class="section-title">ðŸ“… Jadwal Posting</div>

<div class="filters">
<select id="scheduleAccountFilter">
<option value="all">Semua Akun</option>
</select>

<input type="date" id="calendar">
</div>

<div id="schedule-list"></div>

</div>

</div>

<script>

/* ================= NAVIGATION ================= */

function showPage(page){

document.getElementById("resultPage").style.display=
page==="result"?"block":"none";

document.getElementById("schedulePage").style.display=
page==="schedule"?"block":"none";

/* reset active */
document.getElementById("menuResult").classList.remove("active");
document.getElementById("menuSchedule").classList.remove("active");

/* set active */
if(page==="result"){
document.getElementById("menuResult").classList.add("active");
}else{
document.getElementById("menuSchedule").classList.add("active");
}

  }


/* ================= RESULT ================= */

fetch("data.json?"+Date.now())
.then(r=>r.json())
.then(data=>{

const container=document.getElementById("list");
const dropdown=document.getElementById("accountFilter");
const dateInput=document.getElementById("dateFilter");

dateInput.value=new Date().toISOString().slice(0,10);

/* dropdown akun */
[...new Set(data.map(i=>i.account))]
.forEach(acc=>{
const o=document.createElement("option");
o.value=acc;
o.textContent=acc;
dropdown.appendChild(o);
});

/* stats */
document.getElementById("totalPost").textContent=data.length;

document.getElementById("totalGroup").textContent=
new Set(data.map(i=>i.group_name)).size;

document.getElementById("totalAccount").textContent=
new Set(data.map(i=>i.account)).size;


function render(){

container.innerHTML="";

const filtered=data.filter(item=>{

const acc=dropdown.value==="all"||item.account===dropdown.value;
const date=!dateInput.value||item.tanggal===dateInput.value;

return acc && date;
});

if(!filtered.length){
container.innerHTML=`<div class="empty">Tidak ada posting.</div>`;
return;
}

filtered.forEach((item,index)=>{
list.innerHTML+=`
<div class="card" style="animation-delay:${index*0.05}s">

  <div class="left">
    <img src="${item.group_photo||'https://via.placeholder.com/70'}" class="group-img">
    <div class="caption">${item.caption}</div>
  </div>

  <div class="right">
    <div class="group-name">${item.group_name}</div>
  </div>

</div>`;
});
}

render();

dropdown.addEventListener("change",render);
dateInput.addEventListener("change",render);


});


/* ================= SCHEDULE ================= */

fetch("schedule.json?"+Date.now())
.then(r=>r.json())
.then(scheduleData=>{

const calendar=document.getElementById("calendar");
const list=document.getElementById("schedule-list");
const accountFilter=document.getElementById("scheduleAccountFilter");

calendar.value=new Date().toISOString().slice(0,10);

const allItems=Object.values(scheduleData).flat();

[...new Set(allItems.map(i=>i.account))]
.forEach(acc=>{
const o=document.createElement("option");
o.value=acc;
o.textContent=acc;
accountFilter.appendChild(o);
});

function renderSchedule(){

list.innerHTML="";

const date=calendar.value;

if(!scheduleData[date]){
list.innerHTML=`<div class="empty">Tidak ada jadwal.</div>`;
return;
}

const filtered=scheduleData[date].filter(i=>
accountFilter.value==="all"||
i.account===accountFilter.value
);

if(!filtered.length){
list.innerHTML=`<div class="empty">Tidak ada jadwal akun ini.</div>`;
return;
}

filtered.forEach((item,index)=>{
list.innerHTML+=`
<div class="card" style="animation-delay:${index*0.05}s">

  <div class="left">
    <img src="${item.group_photo||'https://via.placeholder.com/70'}" class="group-img">
    <div class="caption">${item.caption}</div>
  </div>

  <div class="right">
    <div class="group-name">${item.group_name}</div>
  </div>

</div>`;
});

}

renderSchedule();

calendar.addEventListener("change",renderSchedule);
accountFilter.addEventListener("change",renderSchedule);

});
showPage("result");
</script>
</body>
</html>
