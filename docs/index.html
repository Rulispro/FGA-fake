<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>BOT DASHBOARD PRO</title>

<style>

*{margin:0;padding:0;box-sizing:border-box;}

body{
font-family:system-ui;
background:#070707;
color:white;
display:flex;
min-height:100vh;
overflow-x:hidden;
}

/* ================= SIDEBAR ================= */

.sidebar{
width:230px;
background:#0f0f0f;
padding:25px;
border-right:1px solid #1f1f1f;
}

.logo{
font-size:22px;
font-weight:bold;
margin-bottom:40px;
background:linear-gradient(90deg,#00ffd5,#4da3ff);
-webkit-background-clip:text;
color:transparent;
}

.menu div{
padding:12px;
border-radius:10px;
cursor:pointer;
margin-bottom:10px;
transition:.3s;
}

.menu div:hover{
background:#1b1b1b;
}

/* ================= MAIN ================= */

.main{
flex:1;
padding:25px;
}

/* ================= STATS ================= */

.stats{
display:flex;
gap:15px;
margin-bottom:25px;
flex-wrap:wrap;
}

.stat{
flex:1;
background:#111;
padding:20px;
border-radius:14px;
border:1px solid #222;
}

.stat h3{opacity:.7;font-size:14px;}
.stat span{font-size:26px;font-weight:bold;}

/* ================= FILTER ================= */

.filters{
display:flex;
gap:12px;
margin-bottom:20px;
flex-wrap:wrap;
}

select,input{
background:#141414;
border:none;
color:white;
padding:10px;
border-radius:8px;
}

/* ================= CARD ================= */

/* ================= CARD ANIMATION ================= */

.card{
  display:flex;
  align-items:center;
  background:rgba(30,30,30,.7);
  backdrop-filter:blur(14px);
  padding:15px;
  border-radius:14px;
  margin-bottom:14px;
  border:1px solid rgba(255,255,255,.05);

  opacity:0;
  transform:translateY(20px) scale(.98);
  animation:cardReveal .5s ease forwards;
}

@keyframes cardReveal{
  to{
    opacity:1;
    transform:translateY(0) scale(1);
  }
}


.card:hover{
transform:translateY(-3px);
background:#181818;
}

.group-img{
width:65px;
height:65px;
border-radius:12px;
margin-right:15px;
object-fit:cover;
}

.group-name{font-weight:bold;}
.caption{opacity:.7;font-size:14px;}

.section-title{
margin:25px 0 12px;
font-size:20px;
}

.empty{opacity:.5;margin-top:20px;}

.search{
width:220px;
}

/* MOBILE */
@media(max-width:900px){
.sidebar{display:none;}
body{flex-direction:column;}
}

</style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar">
<div class="logo">ðŸ¤– BOT PRO</div>

<div class="menu">
<div onclick="showPage('result')">ðŸ“Œ Hasil Posting</div>
<div onclick="showPage('schedule')">ðŸ“… Schedule</div>
</div>
</div>


<!-- MAIN -->
<div class="main">

<!-- ===== STATS ===== -->
<div class="stats">
<div class="stat"><h3>Total Posting</h3><span id="totalPost">0</span></div>
<div class="stat"><h3>Total Group</h3><span id="totalGroup">0</span></div>
<div class="stat"><h3>Akun Aktif</h3><span id="totalAccount">0</span></div>
</div>


<!-- ================= HASIL ================= -->
<div id="resultPage">

<div class="section-title">ðŸ“Œ Hasil Posting</div>

<div class="filters">
<select id="accountFilter">
<option value="all">Semua Akun</option>
</select>

<input type="date" id="dateFilter">

<input class="search" id="searchBox" placeholder="Cari group...">
</div>

<div id="list"></div>

</div>


<!-- ================= SCHEDULE ================= -->
<div id="schedulePage" style="display:none">

<div class="section-title">ðŸ“… Jadwal Posting</div>

<div class="filters">
<select id="scheduleAccountFilter">
<option value="all">Semua Akun</option>
</select>

<input type="date" id="calendar">
</div>

<div id="schedule-list"></div>

</div>

</div>

<script>

/* ================= NAVIGATION ================= */

function showPage(page){
document.getElementById("resultPage").style.display=
page==="result"?"block":"none";

document.getElementById("schedulePage").style.display=
page==="schedule"?"block":"none";
}


/* ================= RESULT ================= */

fetch("data.json?"+Date.now())
.then(r=>r.json())
.then(data=>{

const container=document.getElementById("list");
const dropdown=document.getElementById("accountFilter");
const dateInput=document.getElementById("dateFilter");
const search=document.getElementById("searchBox");

dateInput.value=new Date().toISOString().slice(0,10);

/* dropdown akun */
[...new Set(data.map(i=>i.account))]
.forEach(acc=>{
const o=document.createElement("option");
o.value=acc;
o.textContent=acc;
dropdown.appendChild(o);
});

/* stats */
document.getElementById("totalPost").textContent=data.length;

document.getElementById("totalGroup").textContent=
new Set(data.map(i=>i.group_name)).size;

document.getElementById("totalAccount").textContent=
new Set(data.map(i=>i.account)).size;


function render(){

container.innerHTML="";

const filtered=data.filter(item=>{

const acc=dropdown.value==="all"||item.account===dropdown.value;
const date=!dateInput.value||item.tanggal===dateInput.value;

const searchMatch=item.group_name
.toLowerCase()
.includes(search.value.toLowerCase());

return acc&&date&&searchMatch;
});

if(!filtered.length){
container.innerHTML=`<div class="empty">Tidak ada posting.</div>`;
return;
}

filtered.forEach((item,index)=>{
container.innerHTML+=`
<div class="card" style="animation-delay:${index*0.05}s">
<img src="${item.group_photo||'https://via.placeholder.com/70'}" class="group-img">
<div>
<div class="group-name">${item.group_name}</div>
<div class="caption">${item.caption}</div>
</div>
</div>`;
});

}

render();

dropdown.addEventListener("change",render);
dateInput.addEventListener("change",render);
search.addEventListener("input",render);

});


/* ================= SCHEDULE ================= */

fetch("schedule.json?"+Date.now())
.then(r=>r.json())
.then(scheduleData=>{

const calendar=document.getElementById("calendar");
const list=document.getElementById("schedule-list");
const accountFilter=document.getElementById("scheduleAccountFilter");

calendar.value=new Date().toISOString().slice(0,10);

const allItems=Object.values(scheduleData).flat();

[...new Set(allItems.map(i=>i.account))]
.forEach(acc=>{
const o=document.createElement("option");
o.value=acc;
o.textContent=acc;
accountFilter.appendChild(o);
});

function renderSchedule(){

list.innerHTML="";

const date=calendar.value;

if(!scheduleData[date]){
list.innerHTML=`<div class="empty">Tidak ada jadwal.</div>`;
return;
}

const filtered=scheduleData[date].filter(i=>
accountFilter.value==="all"||
i.account===accountFilter.value
);

if(!filtered.length){
list.innerHTML=`<div class="empty">Tidak ada jadwal akun ini.</div>`;
return;
}

filtered.forEach((item,index)=>{
list.innerHTML+=`
<div class="card" style="animation-delay:${index*0.05}s">
<img src="${item.group_photo||'https://via.placeholder.com/70'}" class="group-img">
<div>
<div class="group-name">${item.group_name}</div>
<div class="caption">${item.caption}</div>
</div>
</div>`;
});

}

renderSchedule();

calendar.addEventListener("change",renderSchedule);
accountFilter.addEventListener("change",renderSchedule);

});

</script>



</body>
</html>
